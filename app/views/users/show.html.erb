<section class="user-section">
  <h2><%= "#{@user.name}'s Page" %></h2>
  <% if current_user.sent_invite(@user) %>
    <%= button_to 'Invite Sent', type: 'button', disbaled: true, class: 'btn btn-secondary' %>
    <%= button_to 'Cancel Invite', { action: 'destroy', controller: 'friendships', id: current_user.sent_invite(@user).id },
                                      method: :delete, type: 'button', class: 'btn btn-secondary' %>
  <% elsif current_user.incoming_invite(@user) %>
    <%= button_to 'Accept Friend', { action: 'update', controller: 'friendships', id: current_user.incoming_invite(@user).id },
                                      method: :put, type: 'button', class: 'btn btn-secondary' %>
      <%= button_to 'Reject Friend', { action: 'destroy', controller: 'friendships', id: current_user.incoming_invite(@user).id },
                                      method: :delete, type: 'button', class: 'btn btn-secondary' %>
  <% elsif current_user.friend?(@user) %>
    <%= button_to 'You\'re Friends', type: 'button', disbaled: true, class: 'btn btn-secondary' %>
    <%= button_to 'Remove Friend', { action: 'destroy', controller: 'friendships', id: current_user.friend?(@user).id },
                                      method: :delete, type: 'button', class: 'btn btn-secondary' %>
  <% else %>
    <%= button_to 'Invite Friend', { action: 'create', controller: 'friendships', friend_id: @user.id },
                                      method: :post, type: 'button', class: 'btn btn-secondary' %>
  <% end%>
  <article class="timeline">
    <h3>Recent posts:</h3>
    <ul class="posts">
      <%= render @posts %>
    </ul>
  </article>
</section>
